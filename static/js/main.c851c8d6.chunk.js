(this["webpackJsonpshare-happy-app-v1"]=this["webpackJsonpshare-happy-app-v1"]||[]).push([[0],{24:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(17),r=a.n(s),i=(a(24),a(5)),l=a(18),o=a.n(l),u=a(1),j=function(){return Object(u.jsxs)("div",{className:"title",children:[Object(u.jsx)("h1",{children:"[ S.A.H.M ]"}),Object(u.jsx)("h2",{id:"text",children:Object(u.jsx)("span",{style:{display:"inline-block"},children:Object(u.jsx)(o.a,{options:{strings:["Hello~","Share Your Happiest Moment!"],autoStart:!0,loop:!0}})})})]})},d=a(11),b=a.n(d),p=a(19),f=a(7),m=a.n(f);a(34),a(29);m.a.initializeApp({apiKey:"AIzaSyBWEyocjrQCjoENYbkKIbVe_2D9bXPe8XA",authDomain:"sahm-5a4a0.firebaseapp.com",projectId:"sahm-5a4a0",storageBucket:"sahm-5a4a0.appspot.com",messagingSenderId:"1010829019707",appId:"1:1010829019707:web:fb166e26f7f3ac66972a1e",measurementId:"G-X27Q0GCH8X"});var O=m.a.storage(),h=m.a.firestore(),g=m.a.firestore.FieldValue.serverTimestamp,v=function(e){var t=Object(c.useState)(0),a=Object(i.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(null),l=Object(i.a)(r,2),o=l[0],u=l[1],j=Object(c.useState)(null),d=Object(i.a)(j,2),f=d[0],m=d[1];return Object(c.useEffect)((function(){var t=O.ref(e.name),a=h.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;s(t)}),(function(e){u(e)}),Object(p.a)(b.a.mark((function e(){var c,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:return c=e.sent,n=g(),e.next=6,a.add({url:c,createdAt:n});case 6:m(c);case 7:case"end":return e.stop()}}),e)}))))}),[e]),{progress:n,url:f,error:o}},x=a(36),y=function(e){var t=e.file,a=e.setFile,n=v(t),s=n.progress,r=n.url;return Object(c.useEffect)((function(){r&&a(null)}),[r,a]),Object(u.jsx)(x.a.div,{className:"progress-bar",initial:{width:0},animate:{width:s+"%"}})},S=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(null),r=Object(i.a)(s,2),l=r[0],o=r[1],j=["image/png","image/jpeg"];return Object(u.jsxs)("form",{children:[Object(u.jsxs)("label",{children:[Object(u.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&j.includes(t.type)?(n(t),o("")):(n(null),o("Please select an image file (png or jpg)"))}}),Object(u.jsx)("span",{children:"+"})]}),Object(u.jsxs)("div",{className:"output",children:[l&&Object(u.jsx)("div",{className:"error",children:l}),a&&Object(u.jsx)("div",{children:a.name}),a&&Object(u.jsx)(y,{file:a,setFile:n})]})]})},I=a(12),k=function(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),n=a[0],s=a[1];return Object(c.useEffect)((function(){var t=h.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(I.a)(Object(I.a)({},e.data()),{},{id:e.id}))})),s(t)}));return function(){return t()}}),[e]),{docs:n}},w=function(e){var t=e.setSelectedImg,a=k("images").docs;return Object(u.jsx)("div",{className:"img-grid",children:a&&a.map((function(e){return Object(u.jsx)(x.a.div,{className:"img-wrap",layout:!0,whileHover:{opacity:1},s:!0,onClick:function(){return t(e.url)},children:Object(u.jsx)(x.a.img,{src:e.url,alt:"",initial:{opacity:0},animate:{opacity:1},transition:{delay:1}})},e.id)}))})},N=function(e){var t=e.setSelectedImg,a=e.selectedImg;return Object(u.jsx)(x.a.div,{className:"backdrop",onClick:function(e){e.target.classList.contains("backdrop")&&t(null)},initial:{opacity:0},animate:{opacity:1},children:Object(u.jsx)(x.a.img,{src:a,alt:"",initial:{y:"-100vh"},animate:{y:0}})})};var A=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(j,{}),Object(u.jsx)(S,{}),Object(u.jsx)(w,{setSelectedImg:n}),a&&Object(u.jsx)(N,{selectedImg:a,setSelectedImg:n})]})};r.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(A,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.c851c8d6.chunk.js.map